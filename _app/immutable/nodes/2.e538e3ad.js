import{S as G,i as Q,s as F,k as w,l as k,m as I,h as f,n as C,b as g,C as H,O as ke,E as _e,P as Ie,e as q,D as X,w as le,q as V,a as x,r as B,c as $,p as T,G as S,u as K,g as L,v as he,f as me,d as N,y as O,z as U,A as j,B as z,Q as Ce,o as Pe,I as J,R as Ee}from"../chunks/index.8c14e00d.js";import{w as ge}from"../chunks/index.4c162294.js";import{P as Le}from"../chunks/Page.4a2c4a53.js";function re(o,n,r){const e=o.slice();e[24]=n[r],e[27]=r;const t=e[0].length-1-e[27];return e[25]=t,e}function oe(o){let n,r,e=o[0][o[25]]+"",t,s=o[25],l,i,a,u=o[0][o[25]]+"",b,v;const y=()=>o[11](n,s),W=()=>o[11](null,s),A=()=>o[12](i,s),P=()=>o[12](null,s);return{c(){n=w("div"),r=w("span"),t=V(e),l=x(),i=w("div"),a=w("span"),b=V(u),v=x(),this.h()},l(_){n=k(_,"DIV",{class:!0});var p=I(n);r=k(p,"SPAN",{class:!0});var c=I(r);t=B(c,e),c.forEach(f),p.forEach(f),l=$(_),i=k(_,"DIV",{class:!0});var h=I(i);a=k(h,"SPAN",{class:!0});var M=I(a);b=B(M,u),M.forEach(f),v=$(h),h.forEach(f),this.h()},h(){C(r,"class","svelte-159lpnm"),C(n,"class","top svelte-159lpnm"),T(n,"z-index",o[27]),T(n,"opacity",o[25]===0?1:0),C(a,"class","svelte-159lpnm"),C(i,"class","bottom svelte-159lpnm"),T(i,"z-index",o[25]),T(i,"opacity",o[25]===0?1:0)},m(_,p){g(_,n,p),S(n,r),S(r,t),y(),g(_,l,p),g(_,i,p),S(i,a),S(a,b),S(i,v),A()},p(_,p){o=_,p&1&&e!==(e=o[0][o[25]]+"")&&K(t,e),s!==o[25]&&(W(),s=o[25],y()),p&1&&T(n,"opacity",o[25]===0?1:0),p&1&&u!==(u=o[0][o[25]]+"")&&K(b,u),s!==o[25]&&(P(),s=o[25],A()),p&1&&T(i,"z-index",o[25]),p&1&&T(i,"opacity",o[25]===0?1:0)},d(_){_&&f(n),W(),_&&f(l),_&&f(i),P()}}}function se(o){let n,r=o[0],e=[];for(let t=0;t<r.length;t+=1)e[t]=oe(re(o,r,t));return{c(){for(let t=0;t<e.length;t+=1)e[t].c();n=q()},l(t){for(let s=0;s<e.length;s+=1)e[s].l(t);n=q()},m(t,s){for(let l=0;l<e.length;l+=1)e[l]&&e[l].m(t,s);g(t,n,s)},p(t,s){if(s&7){r=t[0];let l;for(l=0;l<r.length;l+=1){const i=re(t,r,l);e[l]?e[l].p(i,s):(e[l]=oe(i),e[l].c(),e[l].m(n.parentNode,n))}for(;l<e.length;l+=1)e[l].d(1);e.length=r.length}},d(t){X(e,t),t&&f(n)}}}function We(o){let n,r=o[0],e=se(o);return{c(){n=w("div"),e.c(),this.h()},l(t){n=k(t,"DIV",{class:!0});var s=I(n);e.l(s),s.forEach(f),this.h()},h(){C(n,"class","container svelte-159lpnm")},m(t,s){g(t,n,s),e.m(n,null)},p(t,[s]){s&1&&F(r,r=t[0])?(e.d(1),e=se(t),e.c(),e.m(n,null)):e.p(t,s)},i:H,o:H,d(t){t&&f(n),e.d(t)}}}function Ae(o,n,r){let e,t,s,l,i,a,{letter:u}=n,{placeInWord:b}=n,{wordIndex:v}=n,{backgroundColor:y=[31,31,31]}=n;const W=ke("boardContext");_e(o,W,d=>r(10,a=d));let A,P,_=" ";const p=ge(" ");let c=[],h=[],M,R=0;const pe=d=>{A=d,P=u;const E=l.slice(l.indexOf(A))+l;return r(0,_=E.slice(0,E.indexOf(P)+1)||" "),setTimeout(()=>{typeof M<"u"&&cancelAnimationFrame(M),M=requestAnimationFrame(ee)},(v+b)*79),u},ye=d=>{const E=Math.min(d/i,1),te=e(E)*i/t,m=Math.min(Math.floor(te),_.length-1),Y=te-m,we=1-.3*Math.sin(Y*Math.PI),ne=`rgb(${y.map(D=>we*D).join(",")})`;return _.length>1&&(c.forEach(D=>{D&&(D.style.opacity="0")}),h.forEach(D=>{D&&(D.style.opacity="0")})),Y<.5?(c[m]&&(r(1,c[m].style.opacity="1",c),r(1,c[m].style.rotate=`x -${2*Y*90}deg`,c),r(1,c[m].style.backgroundColor=ne,c)),c[m+1]&&r(1,c[m+1].style.opacity="1",c),h[m]&&r(2,h[m].style.opacity="1",h)):(h[m]&&(r(2,h[m].style.opacity="1",h),r(2,h[m].style.backgroundColor=ne,h)),h[m+1]&&(r(2,h[m+1].style.opacity="1",h),r(2,h[m+1].style.rotate=`x ${2*(1-Y)*90}deg`,h)),c[m+1]&&r(1,c[m+1].style.opacity="1",c)),E<1},ee=d=>{R||(R=d);const E=d-R;ye(E)?M=requestAnimationFrame(ee):R=0};Ie(()=>{M&&cancelAnimationFrame(M)});function be(d,E){le[d?"unshift":"push"](()=>{c[E]=d,r(1,c)})}function ve(d,E){le[d?"unshift":"push"](()=>{h[E]=d,r(2,h)})}return o.$$set=d=>{"letter"in d&&r(4,u=d.letter),"placeInWord"in d&&r(5,b=d.placeInWord),"wordIndex"in d&&r(6,v=d.wordIndex),"backgroundColor"in d&&r(7,y=d.backgroundColor)},o.$$.update=()=>{o.$$.dirty&1024&&(e=a.easing),o.$$.dirty&1024&&r(8,t=a.timePerLetter),o.$$.dirty&1024&&r(9,s=a.alphabet),o.$$.dirty&512&&(l=" "+s),o.$$.dirty&16&&u&&p.update(pe),o.$$.dirty&257&&(i=t*(_.length-1))},[_,c,h,W,u,b,v,y,t,s,a,be,ve]}class Me extends G{constructor(n){super(),Q(this,n,Ae,We,F,{letter:4,placeInWord:5,wordIndex:6,backgroundColor:7})}}function ie(o,n,r){const e=o.slice();return e[2]=n[r],e[4]=r,e}function ae(o){let n,r;return n=new Me({props:{letter:o[2],placeInWord:o[4],wordIndex:o[1]}}),{c(){O(n.$$.fragment)},l(e){U(n.$$.fragment,e)},m(e,t){j(n,e,t),r=!0},p(e,t){const s={};t&1&&(s.letter=e[2]),t&2&&(s.wordIndex=e[1]),n.$set(s)},i(e){r||(L(n.$$.fragment,e),r=!0)},o(e){N(n.$$.fragment,e),r=!1},d(e){z(n,e)}}}function Ne(o){let n,r,e=o[0],t=[];for(let l=0;l<e.length;l+=1)t[l]=ae(ie(o,e,l));const s=l=>N(t[l],1,1,()=>{t[l]=null});return{c(){n=w("div");for(let l=0;l<t.length;l+=1)t[l].c();this.h()},l(l){n=k(l,"DIV",{class:!0});var i=I(n);for(let a=0;a<t.length;a+=1)t[a].l(i);i.forEach(f),this.h()},h(){C(n,"class","word svelte-1oqv7sq")},m(l,i){g(l,n,i);for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(n,null);r=!0},p(l,[i]){if(i&3){e=l[0];let a;for(a=0;a<e.length;a+=1){const u=ie(l,e,a);t[a]?(t[a].p(u,i),L(t[a],1)):(t[a]=ae(u),t[a].c(),L(t[a],1),t[a].m(n,null))}for(he(),a=e.length;a<t.length;a+=1)s(a);me()}},i(l){if(!r){for(let i=0;i<e.length;i+=1)L(t[i]);r=!0}},o(l){t=t.filter(Boolean);for(let i=0;i<t.length;i+=1)N(t[i]);r=!1},d(l){l&&f(n),X(t,l)}}}function Se(o,n,r){let{word:e}=n,{wordIndex:t}=n;return o.$$set=s=>{"word"in s&&r(0,e=s.word),"wordIndex"in s&&r(1,t=s.wordIndex)},[e,t]}class De extends G{constructor(n){super(),Q(this,n,Se,Ne,F,{word:0,wordIndex:1})}}function ce(o,n,r){const e=o.slice();return e[15]=n[r],e[17]=r,e}function fe(o){let n,r;return n=new De({props:{word:o[15],wordIndex:o[17]}}),{c(){O(n.$$.fragment)},l(e){U(n.$$.fragment,e)},m(e,t){j(n,e,t),r=!0},p(e,t){const s={};t&1&&(s.word=e[15]),n.$set(s)},i(e){r||(L(n.$$.fragment,e),r=!0)},o(e){N(n.$$.fragment,e),r=!1},d(e){z(n,e)}}}function Te(o){let n,r,e=o[0],t=[];for(let l=0;l<e.length;l+=1)t[l]=fe(ce(o,e,l));const s=l=>N(t[l],1,1,()=>{t[l]=null});return{c(){n=w("div");for(let l=0;l<t.length;l+=1)t[l].c();this.h()},l(l){n=k(l,"DIV",{"data-hello-there-for-information-visit":!0});var i=I(n);for(let a=0;a<t.length;a+=1)t[a].l(i);i.forEach(f),this.h()},h(){C(n,"data-hello-there-for-information-visit","https://github.com/Fruup/svelte-ticker-board")},m(l,i){g(l,n,i);for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(n,null);r=!0},p(l,[i]){if(i&1){e=l[0];let a;for(a=0;a<e.length;a+=1){const u=ce(l,e,a);t[a]?(t[a].p(u,i),L(t[a],1)):(t[a]=fe(u),t[a].c(),L(t[a],1),t[a].m(n,null))}for(he(),a=e.length;a<t.length;a+=1)s(a);me()}},i(l){if(!r){for(let i=0;i<e.length;i+=1)L(t[i]);r=!0}},o(l){t=t.filter(Boolean);for(let i=0;i<t.length;i+=1)N(t[i]);r=!1},d(l){l&&f(n),X(t,l)}}}function Ve(o,n,r){let e,t,s,l,i;const a=ge({alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",easing:c=>c<.5?2*c*c:1-Math.pow(-2*c+2,2)/2,timePerCycle:7500,timePerLetter:250});_e(o,a,c=>r(12,i=c));let{words:u=["sample","words"]}=n,{alphabet:b=void 0}=n,{timePerLetter:v}=n,{duration:y}=n,{easing:W=void 0}=n;Ce("boardContext",a);let A=[],P;const _=()=>{r(0,A=s),clearTimeout(P),P=setTimeout(p,y)},p=()=>{r(0,A=l),clearTimeout(P),P=setTimeout(_,.667*y)};return Pe(()=>(_(),()=>{clearTimeout(P)})),o.$$set=c=>{"words"in c&&r(2,u=c.words),"alphabet"in c&&r(3,b=c.alphabet),"timePerLetter"in c&&r(4,v=c.timePerLetter),"duration"in c&&r(5,y=c.duration),"easing"in c&&r(6,W=c.easing)},o.$$.update=()=>{o.$$.dirty&4&&r(9,t=u.map(c=>c.toUpperCase())),o.$$.dirty&520&&J(a,i.alphabet=b||Array.from(new Set(t.join(""))).sort().join(""),i),o.$$.dirty&64&&W&&J(a,i.easing=W,i),o.$$.dirty&32&&y&&J(a,i.timePerCycle=y,i),o.$$.dirty&16&&v&&J(a,i.timePerLetter=v,i),o.$$.dirty&4&&r(8,e=Math.max(...u.map(c=>c.length))),o.$$.dirty&768&&r(7,s=t.map(c=>c.padEnd(e," "))),o.$$.dirty&128&&(l=s.map(c=>" ".repeat(c.length)))},[A,a,u,b,v,y,W,s,e,t]}class Be extends G{constructor(n){super(),Q(this,n,Ve,Te,F,{words:2,alphabet:3,timePerLetter:4,duration:5,easing:6})}}function ue(o,n,r){const e=o.slice();return e[3]=n[r],e[5]=r,e}function Fe(o){let n=o[3]+"",r,e,t;return{c(){r=V(n),e=w("span"),t=V("_"),this.h()},l(s){r=B(s,n),e=k(s,"SPAN",{class:!0});var l=I(e);t=B(l,"_"),l.forEach(f),this.h()},h(){C(e,"class","svelte-1k2fean")},m(s,l){g(s,r,l),g(s,e,l),S(e,t)},p(s,l){l&2&&n!==(n=s[3]+"")&&K(r,n)},d(s){s&&f(r),s&&f(e)}}}function qe(o){let n,r,e=o[3]+"",t,s,l;return{c(){n=w("span"),r=V("_"),t=V(e),s=w("span"),l=V("_"),this.h()},l(i){n=k(i,"SPAN",{class:!0});var a=I(n);r=B(a,"_"),a.forEach(f),t=B(i,e),s=k(i,"SPAN",{class:!0});var u=I(s);l=B(u,"_"),u.forEach(f),this.h()},h(){C(n,"class","svelte-1k2fean"),C(s,"class","svelte-1k2fean")},m(i,a){g(i,n,a),S(n,r),g(i,t,a),g(i,s,a),S(s,l)},p(i,a){a&2&&e!==(e=i[3]+"")&&K(t,e)},d(i){i&&f(n),i&&f(t),i&&f(s)}}}function de(o){let n;function r(s,l){return s[5]===0?qe:Fe}let t=r(o)(o);return{c(){t.c(),n=q()},l(s){t.l(s),n=q()},m(s,l){t.m(s,l),g(s,n,l)},p(s,l){t.p(s,l)},d(s){t.d(s),s&&f(n)}}}function Z(o){let n,r=o[1],e=[];for(let t=0;t<r.length;t+=1)e[t]=de(ue(o,r,t));return{c(){n=w(o[0]);for(let t=0;t<e.length;t+=1)e[t].c();this.h()},l(t){n=k(t,(o[0]||"null").toUpperCase(),{class:!0});var s=I(n);for(let l=0;l<e.length;l+=1)e[l].l(s);s.forEach(f),this.h()},h(){Ee(o[0])(n,{class:"svelte-1k2fean"})},m(t,s){g(t,n,s);for(let l=0;l<e.length;l+=1)e[l]&&e[l].m(n,null)},p(t,s){if(s&2){r=t[1];let l;for(l=0;l<r.length;l+=1){const i=ue(t,r,l);e[l]?e[l].p(i,s):(e[l]=de(i),e[l].c(),e[l].m(n,null))}for(;l<e.length;l+=1)e[l].d(1);e.length=r.length}},d(t){t&&f(n),X(e,t)}}}function He(o){let n=o[0],r,e=o[0]&&Z(o);return{c(){e&&e.c(),r=q()},l(t){e&&e.l(t),r=q()},m(t,s){e&&e.m(t,s),g(t,r,s)},p(t,[s]){t[0]?n?F(n,t[0])?(e.d(1),e=Z(t),n=t[0],e.c(),e.m(r.parentNode,r)):e.p(t,s):(e=Z(t),n=t[0],e.c(),e.m(r.parentNode,r)):n&&(e.d(1),e=null,n=t[0])},i:H,o:H,d(t){t&&f(r),e&&e.d(t)}}}function Oe(o,n,r){let e,{text:t}=n,{element:s="h1"}=n;return o.$$set=l=>{"text"in l&&r(2,t=l.text),"element"in l&&r(0,s=l.element)},o.$$.update=()=>{o.$$.dirty&4&&r(1,e=t.toUpperCase().split(" "))},[s,e,t]}class Ue extends G{constructor(n){super(),Q(this,n,Oe,He,F,{text:2,element:0})}}function je(o){let n,r,e,t,s;return n=new Ue({props:{text:"ticker board"}}),t=new Be({props:{timePerLetter:Qe,duration:7500,alphabet:Ge,words:o[0]}}),{c(){O(n.$$.fragment),r=x(),e=w("div"),O(t.$$.fragment),this.h()},l(l){U(n.$$.fragment,l),r=$(l),e=k(l,"DIV",{id:!0,class:!0});var i=I(e);U(t.$$.fragment,i),i.forEach(f),this.h()},h(){C(e,"id","board-container"),C(e,"class","svelte-1815koj")},m(l,i){j(n,l,i),g(l,r,i),g(l,e,i),j(t,e,null),s=!0},p:H,i(l){s||(L(n.$$.fragment,l),L(t.$$.fragment,l),s=!0)},o(l){N(n.$$.fragment,l),N(t.$$.fragment,l),s=!1},d(l){z(n,l),l&&f(r),l&&f(e),z(t)}}}function ze(o){let n,r;return n=new Le({props:{$$slots:{default:[je]},$$scope:{ctx:o}}}),{c(){O(n.$$.fragment)},l(e){U(n.$$.fragment,e)},m(e,t){j(n,e,t),r=!0},p(e,[t]){const s={};t&2&&(s.$$scope={dirty:t,ctx:e}),n.$set(s)},i(e){r||(L(n.$$.fragment,e),r=!0)},o(e){N(n.$$.fragment,e),r=!1},d(e){z(n,e)}}}const Ge="ABCDEFGHIJKLMNOPQRSTUVWXYZ",Qe=150;function Re(o){return[["Sydney","Melbourne","Berlin","New York"]]}class Xe extends G{constructor(n){super(),Q(this,n,Re,ze,F,{})}}export{Xe as component};
